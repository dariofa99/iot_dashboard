<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>
  <div class="container-fluid mt-1">
    <div class="row">
        
      <div class="col-md-9 col-sm-12 col-xs-12">
        <div class="card border-secondary ">
          
          <div class="card-body">
            <canvas id="chartdiv" width="400" height="110"></canvas>
          </div>
        </div>
       
      </div>
      <div class="col-md-3 col-sm-12 col-xs-12">
        <div class="card">
          
          <div class="card-body">
        
            <div id="chart_div" ></div>
          </div>
          <!-- <div class="card-footer">
           <small style="float: right; font-size:10px">MGTIC &copy;2022</small>
          </div> -->
        </div>
        
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md-7 col-sm-12 col-xs-12" style="max-height: 270px;overflow:auto">
        <table id="topics_table" class="table">
          <thead>
            <th>Topic</th>
            <th>Value</th>
            <th>Date</th>
            <th><button id="btn_delete_data" class="btn btn-warning btn-sm d-block">Limpiar datos</button></th>
          </thead>
          <tbody>

          </tbody>
        </table>
      </div>

      <div class="col-md-5 col-sm-12 col-xs-12">
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon3">POST-METHOD:</span>
            </div>
            <input type="text" value="http://3.18.87.25/api/v1/topics" readonly class="form-control form-control-sm" id="basic-url" aria-describedby="basic-addon3">
          </div>

          <textarea style="resize: none" readonly disabled rows="5" id="myJsonParse" class="form-control form-control-sm">
        Payload: 
        {
          "topic_name":"your/topic/name",
          "value":25.0
        }</textarea>
        
          
        <div class="input-group mt-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon3">MQTT-SUB:</span>
          </div>
          <input type="text" value="mosquitto_sub -h 3.18.87.25 -t topic/name -v" readonly class="form-control form-control-sm" id="basic-url" aria-describedby="basic-addon3">
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon3">MQTT-PUB:</span>
          </div>
          <input type="text" value="mosquitto_pub -h 3.18.87.25 -t topic/name -m your_value" readonly class="form-control form-control-sm" id="basic-url" aria-describedby="basic-addon3">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
           <form id="myTopicCreateForm" method="POST">
              <div class="form-group">                
                <input type="text" required placeholder="topic/name" class="form-control form-control-sm" name="topic_name" id="topic_name"
                  aria-describedby="topic">
              </div>
              <div class="form-group">              
                <input type="text" required placeholder="100.0" class=" form-control-sm form-control" name="value" id="value">
              </div>
              <button type="submit" class="btn-sm btn btn-primary d-block">Enviar</button>
            </form> 
      </div>
    </div>
  </div>


</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
  integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="js/new-push/io.js"></script>
<script type="module" src="pusher.js"></script>
<script type="module" src="index.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<script>
  const labels = [
    '2022-10-03 10:56:51',
    '2022-10-03 11:08:54',
    '2022-10-03 11:56:06',
    '2022-10-03 11:56:11',

  ];

  const data = {
    labels: labels,
    datasets: [{
      label: 'My First dataset',
      backgroundColor: 'rgb(255, 99, 132)',
      borderColor: 'rgb(255, 99, 132)',
      data: [0, 10, 5, 2, 20, 30, 45],
    }, {
      label: 'My Second dataset',
      backgroundColor: 'rgb(255, 99, 132)',
      borderColor: 'rgb(255, 99, 132)',
      data: [10, 100, 50],
    }]
  };

  const config = {
    type: 'line',
    data: data,
    options: {}
  };

  console.log(config);

  /*  const myChart = new Chart(
     document.getElementById('chartdiv2'),
     config
   );  */

     

</script>
<!-- <script>
// Create root and chart
var root = am5.Root.new("chartdiv"); 
var chart = root.container.children.push( 
  am5xy.XYChart.new(root, {
    panY: false,
    layout: root.verticalLayout
  }) 
);

// Define data
var data = [{ 
  category: "2000", 
  value1: 5000, 
  value2: 588 
}, { 
  category: "2001", 
  value1: 1200, 
  value2: 1800 
}, { 
  category: "2002", 
  value1: 850, 
  value2: 1230 
}];

// Craete Y-axis
var yAxis = chart.yAxes.push( 
  am5xy.ValueAxis.new(root, { 
    renderer: am5xy.AxisRendererY.new(root, {}) 
  }) 
);
var yAxis = chart.yAxes.push(
  am5xy.ValueAxis.new(root, {
    min: 0,
    max: 8000,
    strictMinMax: true,
    extraTooltipPrecision: 1,
    renderer: am5xy.AxisRendererY.new(root, {})
  })
);
// Create X-Axis
var xAxis = chart.xAxes.push(
  am5xy.CategoryAxis.new(root, {
    renderer: am5xy.AxisRendererX.new(root, {}),
    categoryField: "category"
  })
);
xAxis.data.setAll(data);

// Create series
var series1 = chart.series.push( 
  am5xy.LineSeries.new(root, { 
    name: "Series", 
    xAxis: xAxis, 
    yAxis: yAxis, 
    valueYField: "value1", 
    categoryXField: "category" 
  }) 
);
series1.data.setAll(data);

var series2 = chart.series.push( 
  am5xy.LineSeries.new(root, { 
    name: "Series", 
    xAxis: xAxis, 
    yAxis: yAxis, 
    valueYField: "value2", 
    categoryXField: "category" 
  }) 
);
series2.data.setAll(data);

// Add legend
var legend = chart.children.push(am5.Legend.new(root, {})); 
legend.data.setAll(chart.series.values);

// Add cursor
chart.set("cursor", am5xy.XYCursor.new(root, {}));
</script> -->

</html>